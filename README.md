# BattleBot Robot Control System

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ –∏ ESP32 –∫–ª–∏–µ–Ω—Ç–æ–º.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ br/                          # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å BattleBot
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ pathfinding/             # –ú–æ–¥—É–ª—å –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ a_star.py           # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è A* –∞–ª–≥–æ—Ä–∏—Ç–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ heuristics.py       # –≠–≤—Ä–∏—Å—Ç–∏–∫–∏ (–ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω, –ï–≤–∫–ª–∏–¥)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ evklid.py           # –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ robot/                   # –ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller.py       # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä A* –¥–ª—è —Ä–æ–±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bren.py             # –ê–ª–≥–æ—Ä–∏—Ç–º –¥–≤–∏–∂–µ–Ω–∏—è (Brent)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ map_info.py         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils/                   # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ esp32/                       # ESP32 –∫–ª–∏–µ–Ω—Ç (C++)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.cpp            # –ì–ª–∞–≤–Ω—ã–π –∫–æ–¥ ESP32
‚îÇ   ‚îú‚îÄ‚îÄ include/                # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ platformio.ini          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PlatformIO
‚îÇ   ‚îú‚îÄ‚îÄ .gitignore
‚îÇ   ‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ESP32
‚îÇ
‚îú‚îÄ‚îÄ server/                      # TCP —Å–µ—Ä–≤–µ—Ä (Python)
‚îÇ   ‚îú‚îÄ‚îÄ tcp_send.py             # –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ tcp_reciv.py            # –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ tcp_send_esp32.py       # –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ ESP32
‚îÇ   ‚îú‚îÄ‚îÄ ip.py                   # –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ __pycache__/
‚îÇ
‚îú‚îÄ‚îÄ tests/                       # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_matrix.py          # –¢–µ—Å—Ç—ã –º–∞—Ç—Ä–∏—Ü –∏ A*
‚îÇ   ‚îú‚îÄ‚îÄ test_line.py            # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ
‚îÇ   ‚îî‚îÄ‚îÄ __pycache__/
‚îÇ
‚îú‚îÄ‚îÄ .git/                        # Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îú‚îÄ‚îÄ .gitignore                  # Git –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ .venv/                      # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îú‚îÄ‚îÄ .pio/                       # PlatformIO –∫—ç—à
‚îú‚îÄ‚îÄ .vscode/                    # VSCode –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ platformio.ini              # PlatformIO –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∫–æ—Ä–Ω–µ–≤–∞—è)
‚îú‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ README_DOCKER.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md        # –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ REORGANIZATION_SUMMARY.md   # –°–≤–æ–¥–∫–∞ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ map_info copy.py            # –ö–æ–ø–∏—è map_info (—Ä–µ–∑–µ—Ä–≤–Ω–∞—è)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### ESP32 (C++)

```bash
cd esp32
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ src/main.cpp
pio run -e esp32dev -t upload
pio device monitor
```

### TCP –°–µ—Ä–≤–µ—Ä (Python)

```bash
python server/tcp_server.py
```

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏

```python
from br.pathfinding.a_star import algoritm_A
from br.pathfinding import heuristics
from br.pathfinding.evklid import evklid_distance

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è A*
import numpy as np
map_matrix = np.zeros((500, 500))
path = algoritm_A(map_matrix, 500, 500, 0, 0, 474, 458, 1)
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–æ–º

```python
from br.robot.controller import algoritm_A
from br.robot.map_info import MapInfo
```


## üìù –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### BattleBot Module (`br/`)
–û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å —Å —Ç—Ä–µ–º—è –ø–æ–¥–º–æ–¥—É–ª—è–º–∏:

**pathfinding/** - –ü–æ–∏—Å–∫ –ø—É—Ç–∏
- `a_star.py` - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è A* –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- `heuristics.py` - –≠–≤—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ (–ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω, –ï–≤–∫–ª–∏–¥)
- `evklid.py` - –§—É–Ω–∫—Ü–∏—è –µ–≤–∫–ª–∏–¥–æ–≤–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è

**robot/** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–æ–º
- `controller.py` - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º A*
- `bren.py` - –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–≤–∏–∂–µ–Ω–∏—è –ë—Ä–µ–Ω—Ç–∞
- `map_info.py` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**utils/** - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### ESP32 Client (`esp32/`)
- –ö–æ–¥ –Ω–∞ C++ –¥–ª—è ESP32 –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WiFi
- TCP –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Å–≤—è–∑–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- PlatformIO –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –°–º. [esp32/README.md](esp32/README.md)

### TCP Server (`server/`)
- Python –º–æ–¥—É–ª–∏ –¥–ª—è TCP –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
- –†–∞–±–æ—Ç–∞ —Å IP –∞–¥—Ä–µ—Å–∞–º–∏
- –°–º. [server/README.md](server/README.md)

### Tests (`tests/`)
- `test_matrix.py` - –¢–µ—Å—Ç—ã –¥–ª—è –º–∞—Ç—Ä–∏—Ü –∏ A* –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- `test_line.py` - –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ –ª–∏–Ω–∏–π

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# Python
python -m venv .venv
.venv\Scripts\activate  # Windows
pip install numpy opencv-python

# ESP32 (PlatformIO)
pip install platformio
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
python tests/test_matrix.py
python tests/test_line.py
```


## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### ESP32 (`esp32/src/main.cpp`)
```cpp
static const char* WIFI_SSID = "YOUR_WIFI_SSID";
static const char* WIFI_PASS = "YOUR_WIFI_PASSWORD";
static const char* SERVER_IP = "192.168.1.143";
```

### TCP Server (`server/tcp_server.py`)
```python
HOST = '0.0.0.0'
PORT = 3333
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ESP32 Client](esp32/README.md)
- [TCP Server](server/README.md)
- [Project Structure](PROJECT_STRUCTURE.md)
- [Reorganization Summary](REORGANIZATION_SUMMARY.md)

## ü§ù –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏:
- **br/** - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (pathfinding, robot control, utils)
- **esp32/** - –ö–æ–¥ –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ ESP32
- **server/** - TCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- **tests/** - –ú–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π README —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

## üê≥ Docker

```bash
docker build -t battlebot .
docker run battlebot
```

–°–º. [README_DOCKER.md](README_DOCKER.md) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

