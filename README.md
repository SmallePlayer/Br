# ü§ñ BattleBot Robot Control System

**–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º —Å –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ A* –∏ Brent, TCP/UDP –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π –∏ ESP32 –∫–ª–∏–µ–Ω—Ç–æ–º.**

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://www.python.org/)
[![C++](https://img.shields.io/badge/C%2B%2B-ESP32-green.svg)](https://www.espressif.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û –ø—Ä–æ–µ–∫—Ç–µ](#–æ-–ø—Ä–æ–µ–∫—Ç–µ)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-api)
  - [–ú–æ–¥—É–ª—å pathfinding](#–º–æ–¥—É–ª—å-pathfinding)
  - [–ú–æ–¥—É–ª—å robot](#–º–æ–¥—É–ª—å-robot)
  - [–ú–æ–¥—É–ª—å server](#–º–æ–¥—É–ª—å-server)
  - [ESP32 Client](#esp32-client)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

---

## üéØ –û –ø—Ä–æ–µ–∫—Ç–µ

BattleBot - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–º —Ä–æ–±–æ—Ç–æ–º, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç:

- **–ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏**: A* –∏ Brent –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ 2D –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
- **–°–µ—Ç–µ–≤–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è**: TCP/UDP —Å–µ—Ä–≤–µ—Ä—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∏–¥–µ–æ
- **–ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä ESP32**: –ö–ª–∏–µ–Ω—Ç –¥–ª—è –ø—Ä–∏–µ–º–∞ –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ**: –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∏ –∞–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä—ã
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ê–ª–≥–æ—Ä–∏—Ç–º A*** - –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø—É—Ç–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π  
‚úÖ **–ê–ª–≥–æ—Ä–∏—Ç–º Brent** - –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ —Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π  
‚úÖ **–ì–∏–±—Ä–∏–¥–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏  
‚úÖ **TCP/UDP –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è** - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–∞  
‚úÖ **ESP32 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –ø—Ä–∏–µ–º –∫–æ–º–∞–Ω–¥  
‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π** - –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –∑–∞—Ö–≤–∞—Ç –≤–∏–¥–µ–æ  

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     BattleBot System                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                     ‚îÇ                     ‚îÇ
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ   br/   ‚îÇ          ‚îÇ  server/  ‚îÇ        ‚îÇ  esp32/   ‚îÇ
   ‚îÇ (Python)‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (Python)  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   (C++)   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                     ‚îÇ                     ‚îÇ
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇpathfind ‚îÇ           ‚îÇTCP/UDP  ‚îÇ          ‚îÇWiFi     ‚îÇ
   ‚îÇrobot    ‚îÇ           ‚îÇsockets  ‚îÇ          ‚îÇTCP      ‚îÇ
   ‚îÇutils    ‚îÇ           ‚îÇvideo    ‚îÇ          ‚îÇClient   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

1. **Pathfinding** ‚Üí **Robot Controller** ‚Üí **TCP Server** ‚Üí **ESP32**
2. **Camera** ‚Üí **UDP Server** ‚Üí **Video Processing**
3. **ESP32** ‚Üê **TCP Server** ‚Üê **Robot Commands** (path, angle)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python**: 3.8 –∏–ª–∏ –≤—ã—à–µ
- **PlatformIO**: –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è ESP32
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python**: numpy, opencv-python
- **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ**: ESP32 –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –∫–∞–º–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv .venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
# Windows:
.venv\Scripts\activate
# Linux/macOS:
source .venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install numpy opencv-python
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PlatformIO –¥–ª—è ESP32

```bash
pip install platformio
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–∏—Å–∫ –ø—É—Ç–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º A*

```python
import numpy as np
from br.robot.controller import algoritm_A

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã 50x50
map_matrix = np.zeros((50, 50))
rows, cols = map_matrix.shape

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
map_matrix[30:35, 35:40] = 1

# –ü–æ–∏—Å–∫ –ø—É—Ç–∏ –æ—Ç (0,0) –¥–æ (47,49)
reached, path, x_new, y_new = algoritm_A(
    map_matrix=map_matrix,
    rows=rows,
    cols=cols,
    x_self=0,
    y_self=0,
    x_target=47,
    y_target=49,
    step=1
)

if reached:
    print(f"‚úÖ –ü—É—Ç—å –Ω–∞–π–¥–µ–Ω: {path}")
else:
    print(f"üîÑ –°–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∏—Ü–∏—è: ({x_new}, {y_new})")
```

### 2. –ì–∏–±—Ä–∏–¥–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Brent + A*)

```python
import numpy as np
from br.robot.controller import algoritm_A
from br.robot.bren import algoritm_bren

map_matrix = np.zeros((50, 50))
map_matrix[30:35, 35:40] = 1  # –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ

x_self, y_self = 0, 0
x_target, y_target = 47, 49

reached = False
while not reached:
    # –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä—è–º–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è (Brent)
    reached, path, x_self, y_self = algoritm_bren(
        map_matrix, x_self, y_self, x_target, y_target
    )
    
    if path == 0:  # –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
        print("üöß –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ! –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ A*...")
        reached, path, x_self, y_self = algoritm_A(
            map_matrix, 50, 50, x_self, y_self, 
            x_target, y_target, step=1
        )

print("üéØ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!")
```

### 3. –ó–∞–ø—É—Å–∫ TCP —Å–µ—Ä–≤–µ—Ä–∞

```python
from server.tcp_send import send_data

# –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ ESP32
send_data(
    HOST='0.0.0.0',
    PORT=3333,
    x_self=10.5,
    y_self=20.3,
    angle_self=45.0,
    x_target=30.0,
    y_target=40.0
)
```

### 4. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ESP32

```bash
cd esp32

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WiFi –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ src/main.cpp
# WIFI_SSID = "YourWiFiName"
# WIFI_PASS = "YourPassword"
# SERVER_IP = "192.168.1.143"

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞ –Ω–∞ ESP32
pio run -e esp32dev -t upload

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Serial –ø–æ—Ä—Ç–∞
pio device monitor
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –ú–æ–¥—É–ª—å `pathfinding`

–ú–æ–¥—É–ª—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ä–æ–±–æ—Ç–∞.

#### `br.pathfinding.a_star`

**–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç A* –∞–ª–≥–æ—Ä–∏—Ç–º–∞** - –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ.

```python
# –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç standalone —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é A* –∞–ª–≥–æ—Ä–∏—Ç–º–∞
# –ó–∞–ø—É—Å–∫: python -m br.pathfinding.a_star
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
- `x_self, y_self` - –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Ä–æ–±–æ—Ç–∞
- `x_target, y_target` - —Ü–µ–ª–µ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è
- `obstacle` - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è (x, y)
- `map_matrix` - numpy –º–∞—Å—Å–∏–≤ —Ä–∞–∑–º–µ—Ä–æ–º (rows, cols)

**–ó–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ:**
- `0` - —Å–≤–æ–±–æ–¥–Ω–∞—è –∫–ª–µ—Ç–∫–∞
- `1` - –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ
- `2` - –ø–æ—Å–µ—â–µ–Ω–Ω–∞—è –∫–ª–µ—Ç–∫–∞ (closed set)
- `8` - –∫–ª–µ—Ç–∫–∞ –ø—É—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### `br.pathfinding.heuristics`

**–≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è A* –∞–ª–≥–æ—Ä–∏—Ç–º–∞.**

```python
from br.pathfinding.heuristics import manhed_distance

# –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω—Å–∫–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
distance = manhed_distance(point1=(0, 0), point2=(10, 10))
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: 20
```

**–§—É–Ω–∫—Ü–∏–∏:**

##### `manhed_distance(point1, point2)`
–í—ã—á–∏—Å–ª—è–µ—Ç –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω—Å–∫–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `point1` (tuple): –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–µ—Ä–≤–æ–π —Ç–æ—á–∫–∏ (x, y)
- `point2` (tuple): –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Ç–æ—Ä–æ–π —Ç–æ—á–∫–∏ (x, y)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `int`: –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω—Å–∫–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ

**–§–æ—Ä–º—É–ª–∞:** `|x2 - x1| + |y2 - y1|`

#### `br.pathfinding.evklid`

**–ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ.**

```python
from br.pathfinding.evklid import euclidean_distance

# –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
distance = euclidean_distance(point1=(0, 0), point2=(3, 4))
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: 5.0
```

##### `euclidean_distance(point1, point2)`
–í—ã—á–∏—Å–ª—è–µ—Ç –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `point1` (tuple): –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–µ—Ä–≤–æ–π —Ç–æ—á–∫–∏ (x, y)
- `point2` (tuple): –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Ç–æ—Ä–æ–π —Ç–æ—á–∫–∏ (x, y)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `float`: –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ

**–§–æ—Ä–º—É–ª–∞:** `‚àö[(x2 - x1)¬≤ + (y2 - y1)¬≤]`

---

### –ú–æ–¥—É–ª—å `robot`

–ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏–µ–º —Ä–æ–±–æ—Ç–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π.

#### `br.robot.controller`

**–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä A* –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏.**

##### `algoritm_A(map_matrix, rows, cols, x_self, y_self, x_target, y_target, step)`

–í—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ A* –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `map_matrix` (numpy.ndarray): –ú–∞—Ç—Ä–∏—Ü–∞ –∫–∞—Ä—Ç—ã (0=—Å–≤–æ–±–æ–¥–Ω–æ, 1=–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ)
- `rows` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –∫–∞—Ä—Ç–µ
- `cols` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ –∫–∞—Ä—Ç–µ
- `x_self` (int): –¢–µ–∫—É—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X —Ä–æ–±–æ—Ç–∞
- `y_self` (int): –¢–µ–∫—É—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y —Ä–æ–±–æ—Ç–∞
- `x_target` (int): –¶–µ–ª–µ–≤–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X
- `y_target` (int): –¶–µ–ª–µ–≤–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y
- `step` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∑–∞ –≤—ã–∑–æ–≤

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `tuple`: (reached, path, next_x, next_y)
  - `reached` (bool): True –µ—Å–ª–∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞
  - `path` (list): –°–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—É—Ç–∏ –∏–ª–∏ None
  - `next_x` (int): –°–ª–µ–¥—É—é—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X
  - `next_y` (int): –°–ª–µ–¥—É—é—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y

**–ü—Ä–∏–º–µ—Ä:**
```python
from br.robot.controller import algoritm_A
import numpy as np

map_matrix = np.zeros((100, 100))
map_matrix[50, 50] = 1  # –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ

reached, path, x, y = algoritm_A(
    map_matrix, 100, 100, 0, 0, 99, 99, step=1
)
```

#### `br.robot.bren`

**–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è Brent.**

##### `algoritm_bren(map_matrix, x_self, y_self, x_target, y_target)`

–í—ã–ø–æ–ª–Ω—è–µ—Ç –±—ã—Å—Ç—Ä–æ–µ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∫ —Ü–µ–ª–∏. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `map_matrix` (numpy.ndarray): –ú–∞—Ç—Ä–∏—Ü–∞ –∫–∞—Ä—Ç—ã
- `x_self` (int): –¢–µ–∫—É—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X —Ä–æ–±–æ—Ç–∞
- `y_self` (int): –¢–µ–∫—É—â–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y —Ä–æ–±–æ—Ç–∞
- `x_target` (int): –¶–µ–ª–µ–≤–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X
- `y_target` (int): –¶–µ–ª–µ–≤–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `tuple`: (success, path, x_final, y_final)
  - `success` (bool): True –µ—Å–ª–∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –±–µ–∑ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
  - `path` (list/int): –°–ø–∏—Å–æ–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—É—Ç–∏ –∏–ª–∏ 0 –ø—Ä–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–∏
  - `x_final` (int): –ö–æ–Ω–µ—á–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X
  - `y_final` (int): –ö–æ–Ω–µ—á–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –í—ã—á–∏—Å–ª—è–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ–≤–æ—Ä–æ—Ç–∞: `rot_koff = (y_target - y_self) / (x_target - x_self)`
2. –î–≤–∏–∂–µ—Ç—Å—è –Ω–∞ +1 –ø–æ X –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
3. –ï—Å–ª–∏ `rot_koff > 0.5`, —Ç–∞–∫–∂–µ –¥–≤–∏–∂–µ—Ç—Å—è –Ω–∞ +1 –ø–æ Y
4. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è (–∑–Ω–∞—á–µ–Ω–∏–µ 1 –Ω–∞ –∫–∞—Ä—Ç–µ)

**–ü—Ä–∏–º–µ—Ä:**
```python
from br.robot.bren import algoritm_bren
import numpy as np

map_matrix = np.zeros((50, 50))
success, path, x, y = algoritm_bren(map_matrix, 0, 0, 30, 30)

if not success:
    print(f"üöß –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ ({x}, {y})")
```

#### `br.robot.map_info`

**–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Brent –∏ A* –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.**

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–∏–±—Ä–∏–¥–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é:
1. –†–æ–±–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –¥–≤–∏–≥–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑—É—è Brent
2. –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ A*
3. –ü–æ—Å–ª–µ –æ–±—Ö–æ–¥–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —Å–Ω–æ–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Brent

```python
# –°–º. –∫–æ–¥ –≤ br/robot/map_info.py –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
```

---

### –ú–æ–¥—É–ª—å `server`

–ú–æ–¥—É–ª—å —Å–µ—Ç–µ–≤–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ —Å —Ä–æ–±–æ—Ç–æ–º.

#### `server.sockets`

**–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–∫–µ—Ç–∞–º–∏.**

```python
from server.sockets import create_tcp_socket, create_udp_socket, bind_socket

# –°–æ–∑–¥–∞–Ω–∏–µ TCP —Å–æ–∫–µ—Ç–∞
tcp_sock = create_tcp_socket()

# –°–æ–∑–¥–∞–Ω–∏–µ UDP —Å–æ–∫–µ—Ç–∞
udp_sock = create_udp_socket()

# –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∞–¥—Ä–µ—Å—É –∏ –ø–æ—Ä—Ç—É
bind_socket(tcp_sock, '0.0.0.0', 3333)
```

##### `create_tcp_socket()`
–°–æ–∑–¥–∞–µ—Ç TCP —Å–æ–∫–µ—Ç.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `socket.socket` –æ–±—ä–µ–∫—Ç —Å —Ç–∏–ø–æ–º SOCK_STREAM

##### `create_udp_socket()`
–°–æ–∑–¥–∞–µ—Ç UDP —Å–æ–∫–µ—Ç.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `socket.socket` –æ–±—ä–µ–∫—Ç —Å —Ç–∏–ø–æ–º SOCK_DGRAM

##### `bind_socket(s, HOST, PORT)`
–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Å–æ–∫–µ—Ç –∫ –∞–¥—Ä–µ—Å—É –∏ –ø–æ—Ä—Ç—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `s` (socket): –û–±—ä–µ–∫—Ç —Å–æ–∫–µ—Ç–∞
- `HOST` (str): IP –∞–¥—Ä–µ—Å
- `PORT` (int): –ù–æ–º–µ—Ä –ø–æ—Ä—Ç–∞

#### `server.tcp_send`

**–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ TCP.**

##### `send_data(HOST, PORT, x_self, y_self, angle_self, x_target, y_target, delay=0.05)`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ —É–≥–æ–ª —Ä–æ–±–æ—Ç–∞ –Ω–∞ ESP32 –ø–æ TCP.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `HOST` (str): IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- `PORT` (int): –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
- `x_self` (float): –¢–µ–∫—É—â–∞—è X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ä–æ–±–æ—Ç–∞
- `y_self` (float): –¢–µ–∫—É—â–∞—è Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ä–æ–±–æ—Ç–∞
- `angle_self` (float): –¢–µ–∫—É—â–∏–π —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ —Ä–æ–±–æ—Ç–∞ (–≥—Ä–∞–¥—É—Å—ã)
- `x_target` (float): –¶–µ–ª–µ–≤–∞—è X –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
- `y_target` (float): –¶–µ–ª–µ–≤–∞—è Y –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞
- `delay` (float): –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ (—Å–µ–∫—É–Ω–¥—ã)

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** 5 float –∑–Ω–∞—á–µ–Ω–∏–π (4 –±–∞–π—Ç–∞ –∫–∞–∂–¥–æ–µ) = 20 –±–∞–π—Ç

```python
from server.tcp_send import send_data

send_data(
    HOST='192.168.1.143',
    PORT=3333,
    x_self=10.5,
    y_self=20.3,
    angle_self=45.0,
    x_target=50.0,
    y_target=60.0,
    delay=0.05
)
```

#### `server.tcp_reciv`

**–ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –ø–æ TCP.**

##### `receive_data(HOST, PORT)`

–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ TCP —Å–µ—Ä–≤–µ—Ä—É –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `HOST` (str): IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- `PORT` (int): –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç 20 –±–∞–π—Ç (5 int –∑–Ω–∞—á–µ–Ω–∏–π)

```python
from server.tcp_reciv import receive_data

receive_data(HOST='192.168.1.143', PORT=3333)
# –í—ã–≤–æ–¥–∏—Ç: Received (10, 20, 45, 50, 60)
```

#### `server.udp_send`

**–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∏–¥–µ–æ –ø–æ UDP.**

##### `send_data(s, HOST_recv, PORT_recv, delay=0.05)`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 2 float –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ UDP.

##### `send_video(s, HOST_recv, PORT_recv, frame)`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∂–∞—Ç—ã–π –∫–∞–¥—Ä –≤–∏–¥–µ–æ –ø–æ UDP.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `frame` (numpy.ndarray): –ö–∞–¥—Ä –≤–∏–¥–µ–æ –∏–∑ OpenCV
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 60KB (JPEG –∫–∞—á–µ—Å—Ç–≤–æ 50%)

```python
from server.udp_send import send_video, create_socket
import cv2

s = create_socket()
cap = cv2.VideoCapture(0)
ret, frame = cap.read()

if ret:
    send_video(s, 'localhost', 3333, frame)
```

#### `server.udp_send_kadr` –∏ `server.udp_reciv_kadr`

**–û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø—Ä–∏–µ–º –±–æ–ª—å—à–∏—Ö –≤–∏–¥–µ–æ–∫–∞–¥—Ä–æ–≤ –ø–æ UDP —Å —Ä–∞–∑–±–∏–µ–Ω–∏–µ–º –Ω–∞ –∫—É—Å–∫–∏.**

##### `send_big_video(sock, data, frame_id)`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–∏–µ –∫–∞–¥—Ä—ã –≤–∏–¥–µ–æ, —Ä–∞–∑–±–∏–≤–∞—è –∏—Ö –Ω–∞ –∫—É—Å–∫–∏ –ø–æ 60KB.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `sock`: UDP —Å–æ–∫–µ—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- `data` (bytes): –°–∂–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–∞–¥—Ä–∞ (JPEG)
- `frame_id` (int): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∫–∞–¥—Ä–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –†–∞–∑–º–µ—Ä –∫—É—Å–∫–∞: 60KB
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∫–ª—é—á–∞–µ—Ç: frame_id, chunk_idx, num_chunks, data_size
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ó–∞–¥–µ—Ä–∂–∫–∞ 1–º—Å –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

##### `reciv_big_video(sock, data)`

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∫—É—Å–∫–∏ –±–æ–ª—å—à–∏—Ö –≤–∏–¥–µ–æ–∫–∞–¥—Ä–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `sock`: UDP —Å–æ–∫–µ—Ç (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏)
- `data` (bytes): –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** 
- `numpy.ndarray`: –î–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–¥—Ä –∏–ª–∏ `None`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∫—É—Å–∫–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö/–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–∞–¥—Ä–∞ —á–µ—Ä–µ–∑ OpenCV

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
from server.udp_send_kadr import send_big_video
from sockets import create_udp_socket
import config

s = create_udp_socket()
cap = config.CameraThread(index=0)
cap.start()

frame_id = 0
while True:
    frame = cap.get_frame()
    if frame is not None:
        data = config.compress_jpeg(frame)
        send_big_video(s, data, frame_id)
        frame_id += 1
```

```python
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏–µ–º–∞
from server.udp_reciv_kadr import reciv_big_video
from sockets import create_udp_socket, bind_socket

s = create_udp_socket()
bind_socket(s, 'localhost', 3333)

while True:
    data, addr = s.recvfrom(65535)
    frame = reciv_big_video(s, data)
    if frame is not None:
        # –ö–∞–¥—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ cv2.imshow
        pass
```

#### `server.config`

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–º–µ—Ä–æ–π –∏ –≤–∏–¥–µ–æ.**

##### `open_camera(index=0, os='win')`
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–º–µ—Ä—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º API –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `index` (int): –ò–Ω–¥–µ–∫—Å –∫–∞–º–µ—Ä—ã (0 –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π)
- `os` (str): 'win', 'linux', –∏–ª–∏ 'macos'

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `cv2.VideoCapture` –æ–±—ä–µ–∫—Ç

##### `configure_camera(cap, permission='720', buffer=1)`
–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–µ—Ä—ã.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `cap`: VideoCapture –æ–±—ä–µ–∫—Ç
- `permission` (str): '720', '1080', '2k', –∏–ª–∏ '4k'
- `buffer` (int): –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∫–∞–¥—Ä–æ–≤

##### `compress_jpeg(frame, quality=60)`
–°–∂–∏–º–∞–µ—Ç –∫–∞–¥—Ä –≤ JPEG —Ñ–æ—Ä–º–∞—Ç.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `bytes` - —Å–∂–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ

##### `start_camera_threaded(cap)`
–ó–∞–ø—É—Å–∫–∞–µ—Ç –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –∑–∞—Ö–≤–∞—Ç –≤–∏–¥–µ–æ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

**–ü—Ä–∏–º–µ—Ä:**
```python
from server.config import (
    open_camera, configure_camera, 
    start_camera_threaded, get_frame_threaded
)

cap = open_camera(index=0, os='win')
configure_camera(cap, permission='720')
start_camera_threaded(cap)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤
frame = get_frame_threaded()
```

---

### ESP32 Client

**Firmware –¥–ª—è ESP32 –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞** –Ω–∞ C++ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Arduino framework.

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

##### `connectToServer()`
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ü—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ SERVER_IP:SERVER_PORT
- –û—Ç–∫–ª—é—á–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º Nagle –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
- –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Serial

##### `setup()`
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ ESP32:
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Serial –ø–æ—Ä—Ç–∞ (115200 baud)
2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WiFi —Å–µ—Ç–∏
3. –ú–∞–∫—Å–∏–º—É–º 40 –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (20 —Å–µ–∫—É–Ω–¥)
4. –í—ã–≤–æ–¥ IP –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

##### `loop()`
–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ WiFi –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
2. –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ
3. –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (2 float = 8 –±–∞–π—Ç)
4. –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö: path –∏ angle
5. –í—ã–≤–æ–¥ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ Serial

#### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–µ–º –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:**
```
[4 –±–∞–π—Ç–∞ float] [4 –±–∞–π—Ç–∞ float]
    path            angle
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ Serial:**
```
Path: 123.45 | Angle: 67.89
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤ `esp32/src/main.cpp`:

```cpp
static const char* WIFI_SSID = "YourWiFiName";  
static const char* WIFI_PASS = "YourPassword"; 
static const char* SERVER_IP = "192.168.1.143";
static const uint16_t SERVER_PORT = 3333;
```

#### –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ ESP32

```bash
cd esp32
pio run -e esp32dev -t upload
pio device monitor
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ –ø—É—Ç–∏

```python
import numpy as np
from br.pathfinding.heuristics import manhed_distance

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã 10x10
map_matrix = np.zeros((10, 10))

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
map_matrix[5, 5] = 1

# –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —ç–≤—Ä–∏—Å—Ç–∏–∫–∏
h = manhed_distance((0, 0), (9, 9))
print(f"–ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω—Å–∫–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: {h}")  # 18
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–æ–±–æ—Ç–∞

```python
import time
import numpy as np
from br.robot.controller import algoritm_A
from br.robot.bren import algoritm_bren

def navigate_robot(map_matrix, start, goal):
    """
    –ü–æ–ª–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ä–æ–±–æ—Ç–∞ –æ—Ç —Å—Ç–∞—Ä—Ç–∞ –¥–æ —Ü–µ–ª–∏.
    
    Args:
        map_matrix: –ö–∞—Ä—Ç–∞ —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏
        start: –ö–æ—Ä—Ç–µ–∂ (x, y) –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
        goal: –ö–æ—Ä—Ç–µ–∂ (x, y) —Ü–µ–ª–µ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏
    """
    x_self, y_self = start
    x_target, y_target = goal
    rows, cols = map_matrix.shape
    
    reached = False
    total_steps = 0
    
    print(f"üöÄ –ù–∞—á–∞–ª–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: {start} ‚Üí {goal}")
    
    while not reached:
        total_steps += 1
        print(f"\n--- –®–∞–≥ {total_steps} ---")
        print(f"–¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è: ({x_self}, {y_self})")
        
        # –ü—Ä–æ–±—É–µ–º Brent –∞–ª–≥–æ—Ä–∏—Ç–º
        reached, path, x_new, y_new = algoritm_bren(
            map_matrix, x_self, y_self, x_target, y_target
        )
        
        if path == 0:  # –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ
            print("üöß –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ! –ò—Å–ø–æ–ª—å–∑—É–µ–º A*...")
            reached, path, x_new, y_new = algoritm_A(
                map_matrix, rows, cols, x_self, y_self,
                x_target, y_target, step=5
            )
            if path:
                print(f"üìç A* –ø—É—Ç—å: {len(path)} —à–∞–≥–æ–≤")
        else:
            print(f"‚úÖ Brent: –ü—Ä—è–º–æ–π –ø—É—Ç—å - {len(path)} —à–∞–≥–æ–≤")
        
        x_self, y_self = x_new, y_new
        
        if total_steps > 1000:
            print("‚ö†Ô∏è –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —à–∞–≥–æ–≤!")
            break
    
    print(f"\nüéØ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ {total_steps} —à–∞–≥–æ–≤!")
    return total_steps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
map_matrix = np.zeros((50, 50))
map_matrix[20:30, 20:30] = 1  # –ë–æ–ª—å—à–æ–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ

steps = navigate_robot(map_matrix, (0, 0), (45, 45))
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å TCP

```python
import numpy as np
import threading
import time
from br.robot.controller import algoritm_A
from server.tcp_send import send_data

def robot_control_loop():
    """–¶–∏–∫–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –Ω–∞ ESP32."""
    map_matrix = np.zeros((100, 100))
    map_matrix[50:60, 50:60] = 1  # –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ
    
    x_self, y_self = 0, 0
    x_target, y_target = 99, 99
    angle_self = 0.0
    
    HOST = '192.168.1.143'
    PORT = 3333
    
    while True:
        # –ü–æ–∏—Å–∫ —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞
        reached, path, x_new, y_new = algoritm_A(
            map_matrix, 100, 100, x_self, y_self,
            x_target, y_target, step=1
        )
        
        # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —É–≥–ª–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞
        if x_new != x_self or y_new != y_self:
            import math
            angle_self = math.degrees(
                math.atan2(y_new - y_self, x_new - x_self)
            )
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ ESP32
        send_data(
            HOST, PORT, 
            float(x_self), float(y_self), angle_self,
            float(x_target), float(y_target)
        )
        
        x_self, y_self = x_new, y_new
        
        if reached:
            print("üéØ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!")
            break
        
        time.sleep(0.1)

# –ó–∞–ø—É—Å–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
control_thread = threading.Thread(target=robot_control_loop)
control_thread.start()
```

### –ü—Ä–∏–º–µ—Ä 4: –†–∞–±–æ—Ç–∞ —Å –∫–∞–º–µ—Ä–æ–π

```python
from server.config import (
    open_camera, configure_camera,
    start_camera_threaded, get_frame_threaded,
    compress_jpeg, stop_camera_thread
)
from server.udp_send import send_video, create_socket
import time

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä—ã
cap = open_camera(index=0, os='win')
configure_camera(cap, permission='720', buffer=1)

# –ó–∞–ø—É—Å–∫ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –∑–∞—Ö–≤–∞—Ç–∞
start_camera_threaded(cap)

# –°–æ–∑–¥–∞–Ω–∏–µ UDP —Å–æ–∫–µ—Ç–∞
s = create_socket()

try:
    for i in range(100):  # –û—Ç–ø—Ä–∞–≤–∫–∞ 100 –∫–∞–¥—Ä–æ–≤
        frame = get_frame_threaded()
        
        if frame is not None:
            send_video(s, 'localhost', 3333, frame)
            print(f"–ö–∞–¥—Ä {i+1} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω")
        
        time.sleep(0.033)  # ~30 FPS
finally:
    stop_camera_thread()
    cap.release()
    s.close()
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Python Server

#### TCP Server (`server/tcp_send.py`)

```python
HOST = '0.0.0.0'  # –°–ª—É—à–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
PORT = 3333       # –ü–æ—Ä—Ç –¥–ª—è TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
```

#### UDP Server (`server/udp_send.py`)

```python
HOST_recv = 'localhost'  # IP –ø–æ–ª—É—á–∞—Ç–µ–ª—è
PORT_recv = 3333         # –ü–æ—Ä—Ç –¥–ª—è UDP –ø–∞–∫–µ—Ç–æ–≤
```

### ESP32 Firmware

–§–∞–π–ª: `esp32/src/main.cpp`

```cpp
// WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
static const char* WIFI_SSID = "YourWiFiSSID";  
static const char* WIFI_PASS = "YourWiFiPassword"; 

// TCP Server –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
static const char* SERVER_IP = "192.168.1.143";
static const uint16_t SERVER_PORT = 3333;

// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
static const int WIFI_MAX_ATTEMPTS = 40;      // 40 * 500ms = 20 —Å–µ–∫
static const int RECONNECT_INTERVAL = 5000;   // 5 —Å–µ–∫—É–Ω–¥
```

### PlatformIO Configuration

–§–∞–π–ª: `esp32/platformio.ini`

```ini
[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
```

### –ö–∞–º–µ—Ä–∞ (`server/config.py`)

```python
# –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
permission = '720'  # –û–ø—Ü–∏–∏: '720', '1080', '2k', '4k'

# –ö–∞—á–µ—Å—Ç–≤–æ JPEG
jpeg_quality = 60  # 1-100

# –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
buffer_size = 1  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –º–∞—Ç—Ä–∏—Ü –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Brent

```bash
python tests/test_matrix.py
```

–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã 10x10
- –ü—Ä–æ—Å—Ç–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –±–µ–∑ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- –ê–ª–≥–æ—Ä–∏—Ç–º Brent (–ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ)
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
Path: [(1, 1), (2, 2), (3, 3), ..., (9, 7)]
Execution time: 0.0001 seconds
```

### –¢–µ—Å—Ç –≤–∏–¥–µ–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–º–µ—Ä–∞)

```bash
python tests/test_line.py
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–∞—è –∫–∞–º–µ—Ä–∞!

–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:
- –ó–∞—Ö–≤–∞—Ç –≤–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä—ã
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–¥—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç

```bash
python br/robot/map_info.py
```

–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è:
- –ì–∏–±—Ä–∏–¥–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Brent + A*)
- –û–±—Ö–æ–¥ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
- –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ —Ü–µ–ª–∏

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
0 0
30 30
üöß –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –Ω–∞ –ø—É—Ç–∏!
Brent algorithm stopped at: (30, 30)
35 32
‚úÖ [(36, 33), (37, 34), ..., (47, 49)]
Execution time: 0.523 seconds
üéØ –¶–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞!
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Br/
‚îú‚îÄ‚îÄ br/                              # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å Python
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ pathfinding/                 # –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞ –ø—É—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ a_star.py               # –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è A*
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ heuristics.py           # –ú–∞–Ω—Ö—ç—Ç—Ç–µ–Ω —ç–≤—Ä–∏—Å—Ç–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ evklid.py               # –ï–≤–∫–ª–∏–¥–æ–≤–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ robot/                       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller.py           # A* –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (–ø–æ—à–∞–≥–æ–≤—ã–π)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bren.py                 # Brent –∞–ª–≥–æ—Ä–∏—Ç–º –¥–≤–∏–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ map_info.py             # –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ utils/                       # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ __init__.py
‚îÇ
‚îú‚îÄ‚îÄ server/                          # –°–µ—Ç–µ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ sockets.py                  # –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–∫–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ tcp_send.py                 # TCP –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ tcp_reciv.py                # TCP –ø—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ tcp_send_esp32.py           # –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ ESP32
‚îÇ   ‚îú‚îÄ‚îÄ udp_send.py                 # UDP –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ/–¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ udp_reciv.py                # UDP –ø—Ä–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ udp_send_kadr.py            # –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–¥—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ udp_reciv_kadr.py           # –ü—Ä–∏–µ–º –∫–∞–¥—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ config.py                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ ip.py                       # –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ video_streaming_docs.py     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ
‚îÇ
‚îú‚îÄ‚îÄ esp32/                           # ESP32 firmware (C++)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.cpp                # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ ESP32
‚îÇ   ‚îú‚îÄ‚îÄ include/                    # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ platformio.ini              # PlatformIO –∫–æ–Ω—Ñ–∏–≥
‚îÇ   ‚îî‚îÄ‚îÄ README.md                   # ESP32 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ tests/                           # –¢–µ—Å—Ç–æ–≤—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_matrix.py              # –¢–µ—Å—Ç –º–∞—Ç—Ä–∏—Ü –∏ Brent
‚îÇ   ‚îî‚îÄ‚îÄ test_line.py                # –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ
‚îÇ
‚îú‚îÄ‚îÄ .gitignore                      # Git –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Dockerfile                      # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ platformio.ini                  # PlatformIO (–∫–æ—Ä–µ–Ω—å)
‚îú‚îÄ‚îÄ README.md                       # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ README_DOCKER.md                # Docker –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ PROJECT_STRUCTURE.md            # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ REORGANIZATION_SUMMARY.md       # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/SmallePlayer/Br.git
cd Br

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv .venv
source .venv/bin/activate  # Linux/macOS
# –∏–ª–∏
.venv\Scripts\activate     # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install numpy opencv-python

# –î–ª—è ESP32
pip install platformio
```

### –ó–∞–ø—É—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

```bash
# A* –∞–ª–≥–æ—Ä–∏—Ç–º
python -m br.pathfinding.a_star

# Brent –∞–ª–≥–æ—Ä–∏—Ç–º
python tests/test_matrix.py

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
python br/robot/map_info.py
```

#### 2. TCP/UDP –°–µ—Ä–≤–µ—Ä

```bash
# TCP —Å–µ—Ä–≤–µ—Ä
python server/tcp_send.py

# UDP –≤–∏–¥–µ–æ —Å—Ç—Ä–∏–º–∏–Ω–≥
python server/udp_send.py
```

#### 3. ESP32

```bash
cd esp32
pio run -t upload      # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞
pio device monitor     # –ü—Ä–æ—Å–º–æ—Ç—Ä Serial –≤—ã–≤–æ–¥–∞
```

### Docker

#### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞

```bash
docker build -t battlebot:latest .
```

#### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -it --rm battlebot:latest
```

–°–º. [README_DOCKER.md](README_DOCKER.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

#### –ù–æ–≤–∞—è —ç–≤—Ä–∏—Å—Ç–∏–∫–∞

1. –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ `br/pathfinding/heuristics.py`:
```python
def chebyshev_distance(point1, point2):
    """–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ß–µ–±—ã—à—ë–≤–∞."""
    return max(abs(point2[0] - point1[0]), abs(point2[1] - point1[1]))
```

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ A* –∞–ª–≥–æ—Ä–∏—Ç–º–µ:
```python
from br.pathfinding.heuristics import chebyshev_distance

h = chebyshev_distance((x, y), (x_target, y_target))
```

#### –ù–æ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ `server/`:
```python
# server/websocket_server.py
import asyncio
import websockets

async def handler(websocket, path):
    async for message in websocket:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
        await websocket.send(f"Echo: {message}")

start_server = websockets.serve(handler, "localhost", 8765)
asyncio.get_event_loop().run_until_complete(start_server)
asyncio.get_event_loop().run_forever()
```

---

## üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **ESP32 Documentation**: [esp32/README.md](esp32/README.md)
- **Server Documentation**: [server/README.md](server/README.md)
- **Project Structure**: [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)
- **Docker Guide**: [README_DOCKER.md](README_DOCKER.md)
- **Reorganization History**: [REORGANIZATION_SUMMARY.md](REORGANIZATION_SUMMARY.md)

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [A* Pathfinding Algorithm](https://en.wikipedia.org/wiki/A*_search_algorithm)
- [ESP32 Arduino Core](https://github.com/espressif/arduino-esp32)
- [OpenCV Python Tutorials](https://docs.opencv.org/4.x/d6/d00/tutorial_py_root.html)
- [Socket Programming in Python](https://docs.python.org/3/howto/sockets.html)

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞! 

### –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª `LICENSE` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

## üë§ –ê–≤—Ç–æ—Ä

**SmallePlayer**
- GitHub: [@SmallePlayer](https://github.com/SmallePlayer)

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ê–ª–≥–æ—Ä–∏—Ç–º A* –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ESP32 –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ PlatformIO
- OpenCV –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-01

